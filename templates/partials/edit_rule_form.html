<form hx-put="{{ update_rule_endpoint }}" hx-target-error="#alert-container" class="space-y-4 md:space-y-6">
  <div>
    <label for="pattern" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Pattern</label>
    <input id="pattern" type="text" name="pattern" value="{{ rule_pattern }}" required
      class="block w-full p-2.5 rounded-lg text-sm text-gray-900 dark:text-white
disabled:text-gray-500 bg-gray-50 dark:bg-gray-700 border border-gray-300
dark:border-gray-600 dark:placeholder-gray-400 focus:ring-blue-600
focus:border-blue-600 focus:dark:border-blue-500 focus:dark:ring-blue-500"/>
    <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">
      Transaction descriptions starting with this pattern will be tagged (case-insensitive)
    </p>
  </div>

  <div>
    <label for="tag_id" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Tag</label>
    <select id="tag_id" name="tag_id" required
      class="block w-full p-2.5 rounded-lg text-sm text-gray-900 dark:text-white
disabled:text-gray-500 bg-gray-50 dark:bg-gray-700 border border-gray-300
dark:border-gray-600 focus:ring-blue-600 focus:border-blue-600 
focus:dark:border-blue-500 focus:dark:ring-blue-500">
      {% for tag in available_tags %}
      <option value="{{ tag.id }}" {% if tag.id == selected_tag_id %}selected{% endif %}>{{ tag.name }}</option>
      {% endfor %}
    </select>
  </div>

  {% if !error_message.is_empty() %}
  <p class="text-red-600 dark:text-red-400">
    {{ error_message }}
  </p>
  {% endif %}

  <button type="submit"
    class="w-full px-5 py-2.5 rounded-lg text-sm text-center text-white font-medium
      disabled:text-gray-300 bg-blue-500 dark:bg-blue-600 disabled:bg-blue-700
      hover:enabled:bg-blue-600 hover:enabled:dark:bg-blue-700 border dark:border-none
      border-gray-300 focus:ring-4 focus:outline-none focus:ring-primary-300
      focus:dark:ring-primary-800"
  >
    Update Rule
  </button>
</form>
